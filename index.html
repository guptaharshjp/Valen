<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
        .animate-fade-in {
            animation: fade-in 0.5s ease-out;
        }
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        var stage = 'intro';
        var noClickCount = 0;
        var dateChoice = '';
        var activityChoice = '';

        function getNoButtonStyle() {
            var sizes = ['text-lg px-6 py-3', 'text-base px-4 py-2', 'text-sm px-3 py-1.5', 'text-xs px-2 py-1'];
            return sizes[Math.min(noClickCount, sizes.length - 1)];
        }

        function getYesButtonStyle() {
            var sizes = ['text-lg px-6 py-3', 'text-xl px-8 py-4', 'text-2xl px-12 py-6', 'text-3xl px-16 py-8'];
            return sizes[Math.min(noClickCount, sizes.length - 1)];
        }

        function getNoButtonText() {
            var texts = ['No', 'Are you sure?', 'Really?', 'Please?'];
            return texts[Math.min(noClickCount, texts.length - 1)];
        }

        function handleNo() {
            noClickCount = noClickCount + 1;
            render();
        }

        function setStageFunc(newStage, choice) {
            if (choice) {
                if (newStage === 'question2') {
                    dateChoice = 'YES';
                } else if (newStage === 'valentine') {
                    activityChoice = choice;
                }
            }
            stage = newStage;
            render();
        }

        function sendResponse() {
            var response = {
                dateAnswer: dateChoice,
                activity: activityChoice,
                valentineAnswer: 'YES',
                timestamp: new Date().toLocaleString()
            };
            
            console.log('Her response:', response);
            alert('Response saved! Check console for details.');
        }

        function renderIntro() {
            return '<div class="min-h-screen bg-gradient-to-br from-pink-100 via-purple-100 to-red-100 flex items-center justify-center p-4">' +
                '<div class="text-center max-w-md animate-fade-in">' +
                '<div class="mb-8 animate-bounce">' +
                '<div class="text-9xl">&#10084;&#65039;</div>' +
                '</div>' +
                '<h1 class="text-4xl font-bold text-gray-800 mb-4">Hey There!</h1>' +
                '<p class="text-xl text-gray-700 mb-8">I made something special just for you...</p>' +
                '<button onclick="setStageFunc(\'question1\')" class="bg-gradient-to-r from-pink-500 to-red-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:scale-110 transition-transform duration-200 shadow-lg">Open It</button>' +
                '</div></div>';
        }

        function renderQuestion1() {
            var html = '<div class="min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-red-100 flex items-center justify-center p-4">' +
                '<div class="text-center max-w-md bg-white rounded-3xl p-8 shadow-2xl">' +
                '<div class="text-7xl mb-6">&#10024;</div>' +
                '<h2 class="text-3xl font-bold text-gray-800 mb-6">Will you go on a date with me?</h2>' +
                '<div class="flex gap-4 justify-center items-center">' +
                '<button onclick="setStageFunc(\'question2\', \'YES\')" class="bg-gradient-to-r from-green-400 to-green-600 text-white rounded-full font-bold hover:scale-105 transition-all duration-200 shadow-lg ' + getYesButtonStyle() + '">Yes!</button>' +
                '<button onclick="handleNo()" class="bg-gradient-to-r from-gray-400 to-gray-600 text-white rounded-full font-bold hover:scale-95 transition-all duration-200 ' + getNoButtonStyle() + '">' + getNoButtonText() + '</button>' +
                '</div>';
            
            if (noClickCount > 0) {
                html += '<p class="mt-4 text-sm text-gray-600 animate-fade-in">The Yes button looks better, doesn\'t it?</p>';
            }
            
            html += '</div></div>';
            return html;
        }

        function renderQuestion2() {
            return '<div class="min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 flex items-center justify-center p-4">' +
                '<div class="text-center max-w-md bg-white rounded-3xl p-8 shadow-2xl">' +
                '<div class="text-7xl mb-6">&#9749;</div>' +
                '<h2 class="text-3xl font-bold text-gray-800 mb-6">How about coffee or dinner?</h2>' +
                '<div class="space-y-4">' +
                '<button onclick="setStageFunc(\'valentine\', \'Coffee\')" class="w-full bg-gradient-to-r from-amber-400 to-orange-500 text-white px-6 py-4 rounded-full text-lg font-semibold hover:scale-105 transition-transform duration-200 shadow-lg">Coffee sounds perfect!</button>' +
                '<button onclick="setStageFunc(\'valentine\', \'Dinner\')" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-4 rounded-full text-lg font-semibold hover:scale-105 transition-transform duration-200 shadow-lg">Dinner would be amazing!</button>' +
                '<button onclick="setStageFunc(\'valentine\', \'Surprise\')" class="w-full bg-gradient-to-r from-green-400 to-teal-500 text-white px-6 py-4 rounded-full text-lg font-semibold hover:scale-105 transition-transform duration-200 shadow-lg">Surprise me!</button>' +
                '</div></div></div>';
        }

        function renderValentine() {
            return '<div class="min-h-screen bg-gradient-to-br from-red-100 via-pink-100 to-purple-100 flex items-center justify-center p-4">' +
                '<div class="text-center max-w-md bg-white rounded-3xl p-8 shadow-2xl">' +
                '<div class="text-7xl mb-6">&#128197;</div>' +
                '<h2 class="text-3xl font-bold text-gray-800 mb-6">One more thing...</h2>' +
                '<p class="text-xl text-gray-700 mb-6">Will you be my Valentine?</p>' +
                '<div class="flex gap-4 justify-center">' +
                '<button onclick="sendResponse(); setStageFunc(\'final\')" class="bg-gradient-to-r from-red-500 to-pink-500 text-white px-12 py-4 rounded-full text-2xl font-bold hover:scale-110 transition-transform duration-200 shadow-lg animate-pulse">YES!</button>' +
                '</div>' +
                '<p class="mt-6 text-sm text-gray-500">(There is only one right answer here)</p>' +
                '</div></div>';
        }

        function renderFinal() {
            var hearts = '';
            for (var i = 0; i < 20; i++) {
                var left = Math.random() * 100;
                var top = Math.random() * 100;
                var delay = Math.random() * 2;
                var size = 20 + Math.random() * 30;
                hearts += '<div class="absolute text-red-400 animate-float" style="left: ' + left + '%; top: ' + top + '%; animation-delay: ' + delay + 's; font-size: ' + size + 'px; opacity: 0.3;">&#10084;&#65039;</div>';
            }

            return '<div class="min-h-screen bg-gradient-to-br from-pink-200 via-red-200 to-purple-200 flex items-center justify-center p-4 overflow-hidden relative">' +
                '<div class="absolute inset-0 flex items-center justify-center">' + hearts + '</div>' +
                '<div class="text-center max-w-md bg-white rounded-3xl p-8 shadow-2xl relative z-10">' +
                '<div class="mb-6"><div class="text-8xl animate-bounce">&#10084;&#65039;</div></div>' +
                '<h2 class="text-4xl font-bold text-gray-800 mb-4">Yay!</h2>' +
                '<p class="text-xl text-gray-700 mb-6">I am so happy you said yes!</p>' +
                '<p class="text-lg text-gray-600 mb-8">I will text you the details soon. Can not wait!</p>' +
                '<div class="text-6xl mb-4">&#127881;&#10084;&#65039;&#127801;</div>' +
                '<p class="text-sm text-gray-500 mt-8">Her choice: ' + activityChoice + '</p>' +
                '</div></div>';
        }

        function render() {
            var app = document.getElementById('app');
            if (stage === 'intro') {
                app.innerHTML = renderIntro();
            } else if (stage === 'question1') {
                app.innerHTML = renderQuestion1();
            } else if (stage === 'question2') {
                app.innerHTML = renderQuestion2();
            } else if (stage === 'valentine') {
                app.innerHTML = renderValentine();
            } else if (stage === 'final') {
                app.innerHTML = renderFinal();
            }
        }

        render();
    </script>
</body>
</html>